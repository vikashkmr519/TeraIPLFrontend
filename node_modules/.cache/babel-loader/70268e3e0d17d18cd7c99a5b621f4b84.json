{"ast":null,"code":"import _regeneratorRuntime from\"/Users/vikashkumar/Documents/Spring Projects/ipl-dashboard/src/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/vikashkumar/Documents/Spring Projects/ipl-dashboard/src/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/vikashkumar/Documents/Spring Projects/ipl-dashboard/src/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useEffect,useState}from'react';import{PieChart}from'react-minimal-pie-chart';import{Link,useParams}from'react-router-dom';import{Header}from'../components/Header';import{MatchDetailCard}from'../components/MatchDetailCard';import{MatchSmallCard}from'../components/MatchSmallCard';import'./TeamPage.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var TeamPage=function TeamPage(){var _useState=useState({matches:[]}),_useState2=_slicedToArray(_useState,2),team=_useState2[0],setTeam=_useState2[1];var _useParams=useParams(),teamName=_useParams.teamName;useEffect(function(){var fetchMatches=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:8080/team/\".concat(teamName,\"/4\"));case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;console.log(data);setTeam(data);case 8:case\"end\":return _context.stop();}}},_callee);}));return function fetchMatches(){return _ref.apply(this,arguments);};}();fetchMatches();},[teamName]);if(!team||!team.teamName)return/*#__PURE__*/_jsx(\"h1\",{children:\" Team not found\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"TeamPageOuter\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Header\",children:/*#__PURE__*/_jsx(Header,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"TeamPage\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"team-name-section\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"team-name\",children:team.teamName})}),/*#__PURE__*/_jsxs(\"div\",{className:\"win-loss-section\",children:[\"Wins / Losses\",/*#__PURE__*/_jsx(PieChart,{data:[{title:'Losses',value:team.totalMatches-team.totalWins,color:'#CC0000'},{title:'Wins',value:team.totalWins,color:'#008200'}]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"match-detail-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Latest Matches\"}),/*#__PURE__*/_jsx(MatchDetailCard,{teamName:team.teamName,match:team.matches[0]})]}),team.matches.slice(1).map(function(match){return/*#__PURE__*/_jsx(MatchSmallCard,{teamName:team.teamName,match:match},match.id);}),/*#__PURE__*/_jsx(\"div\",{className:\"more-link\",children:/*#__PURE__*/_jsx(Link,{to:\"/teams/\".concat(teamName,\"/matches/\").concat(process.env.REACT_APP_DATA_END_YEAR),children:/*#__PURE__*/_jsx(\"p\",{className:\"more\",children:\"More>>\"})})})]})]});};","map":{"version":3,"names":["React","useEffect","useState","PieChart","Link","useParams","Header","MatchDetailCard","MatchSmallCard","TeamPage","matches","team","setTeam","teamName","fetchMatches","fetch","response","json","data","console","log","title","value","totalMatches","totalWins","color","slice","map","match","id","process","env","REACT_APP_DATA_END_YEAR"],"sources":["/Users/vikashkumar/Documents/Spring Projects/ipl-dashboard/src/frontend/src/pages/TeamPage.js"],"sourcesContent":["import { React, useEffect, useState } from 'react'\nimport { PieChart } from 'react-minimal-pie-chart'\nimport { Link, useParams } from 'react-router-dom'\nimport { Header } from '../components/Header'\nimport { MatchDetailCard } from '../components/MatchDetailCard'\nimport { MatchSmallCard } from '../components/MatchSmallCard'\nimport './TeamPage.scss'\n\nexport const TeamPage = () => {\n  const [team, setTeam] = useState({ matches: [] })\n\n  const { teamName } = useParams()\n\n  useEffect(() => {\n    const fetchMatches = async () => {\n      const response = await fetch(`http://localhost:8080/team/${teamName}/4`)\n      const data = await response.json()\n      console.log(data)\n      setTeam(data)\n    }\n    fetchMatches()\n  }, [teamName])\n\n  if (!team || !team.teamName) return <h1> Team not found</h1>\n  return (\n    <div className=\"TeamPageOuter\">\n      <div className=\"Header\">\n        <Header />\n      </div>\n      <div className=\"TeamPage\">\n        <div className=\"team-name-section\">\n          <h1 className=\"team-name\">{team.teamName}</h1>\n        </div>\n        <div className=\"win-loss-section\">\n          Wins / Losses\n          <PieChart\n            data={[\n              {\n                title: 'Losses',\n                value: team.totalMatches - team.totalWins,\n                color: '#CC0000',\n              },\n              { title: 'Wins', value: team.totalWins, color: '#008200' },\n            ]}\n          ></PieChart>\n        </div>\n        <div className=\"match-detail-section\">\n          <h3>Latest Matches</h3>\n\n          <MatchDetailCard teamName={team.teamName} match={team.matches[0]} />\n        </div>\n\n        {team.matches.slice(1).map((match) => (\n          <MatchSmallCard\n            teamName={team.teamName}\n            match={match}\n            key={match.id}\n          />\n        ))}\n        <div className=\"more-link\">\n          <Link\n            to={`/teams/${teamName}/matches/${process.env.REACT_APP_DATA_END_YEAR}`}\n          >\n            <p className=\"more\">More>></p>\n          </Link>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"mappings":"ueAAA,OAASA,KAAT,CAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,QAAT,KAAyB,yBAAzB,CACA,OAASC,IAAT,CAAeC,SAAf,KAAgC,kBAAhC,CACA,OAASC,MAAT,KAAuB,sBAAvB,CACA,OAASC,eAAT,KAAgC,+BAAhC,CACA,OAASC,cAAT,KAA+B,8BAA/B,CACA,MAAO,iBAAP,C,wFAEA,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CAC5B,cAAwBP,QAAQ,CAAC,CAAEQ,OAAO,CAAE,EAAX,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eAEA,eAAqBP,SAAS,EAA9B,CAAQQ,QAAR,YAAQA,QAAR,CAEAZ,SAAS,CAAC,UAAM,CACd,GAAMa,aAAY,4FAAG,6KACIC,MAAK,sCAA+BF,QAA/B,OADT,QACbG,QADa,qCAEAA,SAAQ,CAACC,IAAT,EAFA,QAEbC,IAFa,eAGnBC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACAN,OAAO,CAACM,IAAD,CAAP,CAJmB,sDAAH,kBAAZJ,aAAY,0CAAlB,CAMAA,YAAY,GACb,CARQ,CAQN,CAACD,QAAD,CARM,CAAT,CAUA,GAAI,CAACF,IAAD,EAAS,CAACA,IAAI,CAACE,QAAnB,CAA6B,mBAAO,uCAAP,CAC7B,mBACE,aAAK,SAAS,CAAC,eAAf,wBACE,YAAK,SAAS,CAAC,QAAf,uBACE,KAAC,MAAD,IADF,EADF,cAIE,aAAK,SAAS,CAAC,UAAf,wBACE,YAAK,SAAS,CAAC,mBAAf,uBACE,WAAI,SAAS,CAAC,WAAd,UAA2BF,IAAI,CAACE,QAAhC,EADF,EADF,cAIE,aAAK,SAAS,CAAC,kBAAf,wCAEE,KAAC,QAAD,EACE,IAAI,CAAE,CACJ,CACEQ,KAAK,CAAE,QADT,CAEEC,KAAK,CAAEX,IAAI,CAACY,YAAL,CAAoBZ,IAAI,CAACa,SAFlC,CAGEC,KAAK,CAAE,SAHT,CADI,CAMJ,CAAEJ,KAAK,CAAE,MAAT,CAAiBC,KAAK,CAAEX,IAAI,CAACa,SAA7B,CAAwCC,KAAK,CAAE,SAA/C,CANI,CADR,EAFF,GAJF,cAiBE,aAAK,SAAS,CAAC,sBAAf,wBACE,sCADF,cAGE,KAAC,eAAD,EAAiB,QAAQ,CAAEd,IAAI,CAACE,QAAhC,CAA0C,KAAK,CAAEF,IAAI,CAACD,OAAL,CAAa,CAAb,CAAjD,EAHF,GAjBF,CAuBGC,IAAI,CAACD,OAAL,CAAagB,KAAb,CAAmB,CAAnB,EAAsBC,GAAtB,CAA0B,SAACC,KAAD,qBACzB,KAAC,cAAD,EACE,QAAQ,CAAEjB,IAAI,CAACE,QADjB,CAEE,KAAK,CAAEe,KAFT,EAGOA,KAAK,CAACC,EAHb,CADyB,EAA1B,CAvBH,cA8BE,YAAK,SAAS,CAAC,WAAf,uBACE,KAAC,IAAD,EACE,EAAE,kBAAYhB,QAAZ,qBAAgCiB,OAAO,CAACC,GAAR,CAAYC,uBAA5C,CADJ,uBAGE,UAAG,SAAS,CAAC,MAAb,oBAHF,EADF,EA9BF,GAJF,GADF,CA6CD,CA7DM"},"metadata":{},"sourceType":"module"}